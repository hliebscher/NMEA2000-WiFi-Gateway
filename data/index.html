<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <meta
            name="viewport"
            content="width=device-width, initial-scale=1, shrink-to-fit=no"
        />
        <title>NMEA Bridge</title>
    </head>
    <body>
        <div class="card">
            <h1>Board voltage:<span id="ADCValue">0</span></h1>
            <br />
        </div>

        <form>
            <input type="hidden" id="handleForm" name="handleForm" value="1" />
            <input
                type="checkbox"
                id="blEnabled"
                name="blEnabled"
                value="Bleutooth"
                $blEnabled
            />
            <label for="blEnabled">Bluetooth Enabled</label><br />
            <input
                type="checkbox"
                id="demoEnabled"
                name="demoEnabled"
                value="Demo"
                $demoEnabled
            />
            <label for="demoEnabled">Demo data Enabled</label><br />
            <input type="submit" value="Submit" />
            <br /><br /><br />
        </form>
        <script>
            setInterval(function () {
                // Call a function repetatively with 2 Second interval
                getData();
            }, 2000); //2000mSeconds update rate

            function getData() {
                var xhttp = new XMLHttpRequest();
                xhttp.onreadystatechange = function () {
                    if (this.readyState == 4 && this.status == 200) {
                        document.getElementById(
                            "ADCValue"
                        ).innerHTML = this.responseText;
                    }
                };
                xhttp.open("GET", "readADC", true);
                xhttp.send();
            }
        </script>
    </body>
</html>
